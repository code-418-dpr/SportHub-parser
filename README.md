# SportHub Parser

[![license](https://img.shields.io/github/license/code-418-dpr/SportHub-parser)](https://opensource.org/licenses/MIT)
[![release](https://img.shields.io/github/v/release/code-418-dpr/SportHub-parser?include_prereleases)](https://github.com/code-418-dpr/SportHub-parser/releases)
[![downloads](https://img.shields.io/github/downloads/code-418-dpr/SportHub-parser/total)](https://github.com/code-418-dpr/SportHub-parser/releases)
[![code size](https://img.shields.io/github/languages/code-size/code-418-dpr/SportHub-parser.svg)](https://github.com/code-418-dpr/SportHub-parser)

[![linter](https://github.com/code-418-dpr/SportHub-parser/actions/workflows/linter.yaml/badge.svg)](https://github.com/code-418-dpr/SportHub-parser/actions/workflows/linter.yaml)

–ü–∞—Ä—Å–µ—Ä PDF-—Ñ–∞–π–ª–∞ –ï–¥–∏–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ —Å–ø–æ—Ä—Ç–∞ –†–æ—Å—Å–∏–∏ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö –∑–∞ –≥–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON

> [!NOTE]
> –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–∫—Ä—É–∂–Ω–æ–≥–æ —ç—Ç–∞–ø–∞ –ß–µ–º–ø–∏–æ–Ω–∞—Ç–∞ –†–æ—Å—Å–∏–∏ –ø–æ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –≤ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ
> ¬´–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–µ¬ª –∫–æ–º–∞–Ω–¥–æ–π –ö–æ–¥ 418 –∏–∑ –î–æ–Ω–µ—Ü–∫–æ–π –ù–∞—Ä–æ–¥–Ω–æ–π –†–µ—Å–ø—É–±–ª–∏–∫–∏, –ø–æ –∏—Ç–æ–≥–∞–º —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π
> [–∑–∞–Ω—è–≤—à–µ–π](https://vk.com/wall-67577440_6427) 2 –º–µ—Å—Ç–æ —Å—Ä–µ–¥–∏ –∫–æ–º–∞–Ω–¥ –ù–æ–≤—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ 3 –º–µ—Å—Ç–æ –≤ –æ–±—â–µ–º –∑–∞—á—ë—Ç–µ –∫–æ–º–∞–Ω–¥
> –†–æ—Å—Å–∏–∏. üñ§üíô‚ù§Ô∏è

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [x] –≥–æ—Ç–æ–≤ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ú–∏–Ω—Å–ø–æ—Ä—Ç–∞ (—Å–º.
  [–ø—Ä–∏–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π —Å—Å—ã–ª–∫—É](https://www.minsport.gov.ru/activity/government-regulation/edinyj-kalendarnyj-plan/)
  / II —á–∞—Å—Ç—å –ï–ö–ü / 2024)
- [x] –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞ –ø–æ HTTP-–∑–∞–ø—Ä–æ—Å—É –∏, –µ—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ–≥–æ –±—ã–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞, –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥
- [x] –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—ã—Ä–æ–π —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–∞–π–ª–∞ PDF (—Å–º. [–ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞](./tmp.example/table.pdf))
- [x] –ø–∞—Ä—Å–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Å–∞–º–æ–ø–∏—Å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö
- [x] –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –ø–æ —á–∞—Å—Ç—è–º

## –°—Ç–µ–∫

- **Python** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **uv** ‚Äî —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è Python
- **Ruff** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ª–∏–Ω—Ç–µ—Ä —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–∞–≤–∏–ª
- **Docker** ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- **PyMuPDF** ‚Äî –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä PDF
- **FastAPI** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API
- **HTTPX** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç
- **Uvicorn** ‚Äî –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π ASGI —Å–µ—Ä–≤–µ—Ä

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

> [!WARNING]
> –î–ª—è —Ä–∞–±–æ—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä-–ø—Ä–∏—ë–º–Ω–∏–∫. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø—É—Å—Ç–æ–≥–æ POST-–∑–∞–ø—Ä–æ—Å–∞
> –Ω–∞ `<–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –ø–∞—Ä—Å–µ—Ä–∞>/run-parser`.

0. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –µ–≥–æ –ø–∞–ø–∫—É.

### –ü–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º Docker

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ Docker.
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ [.env.template](.env.template) –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ —Ç–∞–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞:

```shell
docker build -t sporthub-parser .
```

4. –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:

```shell
docker run -d --name sporthub-parser-standalone -p 3000:3000 sporthub-parser
```

### –ë–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä uv –æ–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Windows:

```shell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```shell
uv sync --frozen --no-dev
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ [.env.template](.env.template) –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ —Ç–∞–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

4. –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:

```shell
uv run -m src.main
```

## –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è

–ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```shell
uv sync
```
